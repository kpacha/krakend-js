<html>
	<head>
		<meta charset="utf-8">
		<script src="wasm_exec.js"></script>
		<script>
			if (!WebAssembly.instantiateStreaming) { // polyfill
				WebAssembly.instantiateStreaming = async (resp, importObject) => {
					const source = await (await resp).arrayBuffer();
					return await WebAssembly.instantiate(source, importObject);
				};
			}

			const go = new Go();
			let mod, inst;
			WebAssembly.instantiateStreaming(fetch("lib.wasm"), go.importObject).then(async (result) => {
				mod = result.module;
				inst = result.instance;
				await go.run(inst)
			});
		</script>
	</head>
	<body>
		<div>
			<textarea rows="4" cols="50" id="value1"></textarea>
			<button onClick="parse('value1','value2');" id="runButton">Parse</button>
		</div>
		<div>
			<textarea rows="4" cols="50" id="value2"></textarea>
		</div>
	</body>
</html>